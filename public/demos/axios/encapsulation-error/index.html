<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç»Ÿä¸€é”™è¯¯å¤„ç†</title>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; padding: 20px; background: #f5f5f7; min-height: 100vh; }
    #app { max-width: 650px; margin: 0 auto; }
    .demo-card { background: #fff; border-radius: 12px; padding: 24px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); }
    h3 { color: #1d1d1f; margin-bottom: 16px; font-size: 18px; }
    .info-box { padding: 12px; border-radius: 8px; margin-bottom: 16px; font-size: 13px; background: #fef2f2; color: #991b1b; }
    .error-types { display: grid; gap: 12px; margin-bottom: 20px; }
    .error-type { display: flex; align-items: center; gap: 12px; padding: 12px 16px; background: #f5f5f7; border-radius: 8px; cursor: pointer; transition: all 0.2s; }
    .error-type:hover { background: #e5e5ea; transform: translateX(4px); }
    .error-icon { font-size: 20px; }
    .error-info { flex: 1; }
    .error-title { font-size: 14px; font-weight: 600; color: #1d1d1f; }
    .error-desc { font-size: 12px; color: #86868b; margin-top: 2px; }
    .error-code { padding: 4px 8px; background: #fee2e2; color: #991b1b; border-radius: 4px; font-size: 12px; font-weight: 600; }
    
    /* Toast æç¤º */
    .toast { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); padding: 12px 24px; border-radius: 8px; font-size: 14px; font-weight: 500; box-shadow: 0 4px 20px rgba(0,0,0,0.2); z-index: 9999; animation: slideDown 0.3s ease; }
    .toast.error { background: #ff3b30; color: white; }
    .toast.warning { background: #ff9500; color: white; }
    .toast.success { background: #34c759; color: white; }
    @keyframes slideDown { from { opacity: 0; transform: translate(-50%, -20px); } to { opacity: 1; transform: translate(-50%, 0); } }
    
    .result-box { padding: 16px; background: #f5f5f7; border-radius: 8px; margin-top: 16px; }
    .result-title { font-size: 14px; font-weight: 600; margin-bottom: 12px; color: #1d1d1f; }
    pre { background: #fff; padding: 12px; border-radius: 6px; font-size: 12px; overflow-x: auto; border: 1px solid #e5e5ea; }
    .code-section { margin-top: 16px; padding: 16px; background: #1d1d1f; border-radius: 8px; }
    .code-section pre { background: transparent; border: none; color: #e5e5ea; font-size: 11px; }
  </style>
</head>
<body>
  <div id="app">
    <!-- Toast æç¤º -->
    <div v-if="toast.show" class="toast" :class="toast.type">
      {{ toast.message }}
    </div>
    
    <div class="demo-card">
      <h3>ğŸš¨ ç»Ÿä¸€é”™è¯¯å¤„ç†</h3>
      
      <div class="info-box">
        åœ¨å“åº”æ‹¦æˆªå™¨ä¸­ç»Ÿä¸€å¤„ç†é”™è¯¯ï¼Œè‡ªåŠ¨å¼¹å‡ºå‹å¥½æç¤ºï¼Œæ— éœ€æ¯ä¸ªè¯·æ±‚å•ç‹¬å¤„ç†
      </div>
      
      <div class="error-types">
        <div class="error-type" @click="triggerError(401)">
          <span class="error-icon">ğŸ”</span>
          <div class="error-info">
            <div class="error-title">æœªæˆæƒé”™è¯¯</div>
            <div class="error-desc">Token è¿‡æœŸæˆ–æ— æ•ˆï¼Œéœ€é‡æ–°ç™»å½•</div>
          </div>
          <span class="error-code">401</span>
        </div>
        
        <div class="error-type" @click="triggerError(403)">
          <span class="error-icon">ğŸš«</span>
          <div class="error-info">
            <div class="error-title">æƒé™ä¸è¶³</div>
            <div class="error-desc">æ²¡æœ‰è®¿é—®è¯¥èµ„æºçš„æƒé™</div>
          </div>
          <span class="error-code">403</span>
        </div>
        
        <div class="error-type" @click="triggerError(404)">
          <span class="error-icon">ğŸ”</span>
          <div class="error-info">
            <div class="error-title">èµ„æºä¸å­˜åœ¨</div>
            <div class="error-desc">è¯·æ±‚çš„æ¥å£æˆ–æ•°æ®ä¸å­˜åœ¨</div>
          </div>
          <span class="error-code">404</span>
        </div>
        
        <div class="error-type" @click="triggerError(500)">
          <span class="error-icon">ğŸ’¥</span>
          <div class="error-info">
            <div class="error-title">æœåŠ¡å™¨é”™è¯¯</div>
            <div class="error-desc">æœåŠ¡å™¨å†…éƒ¨å‘ç”Ÿé”™è¯¯</div>
          </div>
          <span class="error-code">500</span>
        </div>
        
        <div class="error-type" @click="triggerError('network')">
          <span class="error-icon">ğŸ“¡</span>
          <div class="error-info">
            <div class="error-title">ç½‘ç»œé”™è¯¯</div>
            <div class="error-desc">ç½‘ç»œè¿æ¥å¤±è´¥æˆ–è¶…æ—¶</div>
          </div>
          <span class="error-code">Network</span>
        </div>
      </div>
      
      <div class="code-section">
        <pre>// å“åº”æ‹¦æˆªå™¨ç»Ÿä¸€å¤„ç†é”™è¯¯
request.interceptors.response.use(
  response => response.data,
  error => {
    const status = error.response?.status
    const messages = {
      401: 'ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•',
      403: 'æ²¡æœ‰æƒé™è®¿é—®',
      404: 'è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨',
      500: 'æœåŠ¡å™¨å¼€å°å·®äº†'
    }
    
    // æ˜¾ç¤º Toast æç¤º
    Toast.error(messages[status] || 'è¯·æ±‚å¤±è´¥')
    
    return Promise.reject(error)
  }
)</pre>
      </div>
      
      <div class="result-box" v-if="result">
        <div class="result-title">ğŸ“‹ é”™è¯¯è¯¦æƒ…</div>
        <pre>{{ result }}</pre>
      </div>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>

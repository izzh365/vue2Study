<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Promise.race ç«é€Ÿè¯·æ±‚</title>
  <script src="/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios@1.6.0/dist/axios.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; padding: 20px; background: #f5f5f7; min-height: 100vh; }
    #app { max-width: 600px; margin: 0 auto; }
    .demo-card { background: #fff; border-radius: 12px; padding: 24px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); }
    h3 { color: #1d1d1f; margin-bottom: 16px; font-size: 18px; }
    .info-box { padding: 12px; border-radius: 8px; margin-bottom: 16px; font-size: 13px; background: #f3e8ff; color: #7c3aed; }
    .btn { padding: 10px 20px; border: none; border-radius: 8px; font-size: 14px; cursor: pointer; transition: all 0.2s; background: #007aff; color: white; }
    .btn:hover { background: #0056b3; }
    .btn:disabled { background: #ccc; cursor: not-allowed; }
    .race-track { margin-top: 20px; }
    .racer { display: flex; align-items: center; padding: 12px; margin-bottom: 8px; background: #f9fafb; border-radius: 8px; border: 2px solid #e5e5ea; position: relative; overflow: hidden; }
    .racer.running .progress-bar { animation: progress 3s linear; }
    .racer.winner { border-color: #fbbf24; background: #fffbeb; }
    .progress-bar { position: absolute; left: 0; top: 0; bottom: 0; background: linear-gradient(90deg, #dbeafe, #93c5fd); width: 0; z-index: 0; }
    @keyframes progress { from { width: 0; } to { width: 100%; } }
    .racer-icon { font-size: 24px; margin-right: 12px; z-index: 1; }
    .racer-info { flex: 1; z-index: 1; }
    .racer-name { font-weight: 600; font-size: 14px; }
    .racer-status { font-size: 12px; color: #86868b; }
    .winner-badge { font-size: 20px; z-index: 1; }
    .result-box { margin-top: 16px; padding: 16px; background: #ecfdf5; border: 1px solid #86efac; border-radius: 8px; }
    .result-title { font-weight: 600; color: #166534; margin-bottom: 8px; }
    .result-text { font-size: 13px; color: #166534; }
  </style>
</head>
<body>
  <div id="app">
    <div class="demo-card">
      <h3>ğŸ Promise.race ç«é€Ÿè¯·æ±‚</h3>
      
      <div class="info-box">
        è¿”å›æœ€å…ˆå®Œæˆçš„è¯·æ±‚ç»“æœï¼Œå…¶ä»–è¯·æ±‚çš„ç»“æœä¼šè¢«å¿½ç•¥ï¼
      </div>
      
      <button class="btn" @click="startRace" :disabled="loading">
        {{ loading ? 'æ¯”èµ›ä¸­...' : 'å¼€å§‹ç«é€Ÿ' }}
      </button>
      
      <div class="race-track">
        <div 
          v-for="racer in racers" 
          :key="racer.name"
          class="racer"
          :class="{ running: racer.running, winner: racer.winner }"
        >
          <div class="progress-bar"></div>
          <span class="racer-icon">{{ racer.icon }}</span>
          <div class="racer-info">
            <div class="racer-name">{{ racer.name }}</div>
            <div class="racer-status">{{ racer.status }}</div>
          </div>
          <span class="winner-badge" v-if="racer.winner">ğŸ†</span>
        </div>
      </div>
      
      <div class="result-box" v-if="winner">
        <div class="result-title">ğŸ‰ {{ winner.name }} è·èƒœï¼</div>
        <div class="result-text">
          è€—æ—¶: {{ winner.time }}ms<br>
          å…¶ä»–è¯·æ±‚ç»“æœè¢«å¿½ç•¥ï¼ˆä»åœ¨åå°å®Œæˆï¼‰
        </div>
      </div>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>

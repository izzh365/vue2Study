<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç»„ä»¶ä¸Šçš„ v-model</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }

    #app {
      max-width: 900px;
      margin: 0 auto;
    }

    h1 {
      color: white;
      text-align: center;
      margin-bottom: 30px;
      text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }

    .demo-section {
      background: white;
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    }

    .section-title {
      font-size: 18px;
      font-weight: 600;
      color: #1D1D1F;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 2px solid #F5F5F7;
    }

    /* è¾“å…¥æ¡†æ ·å¼ */
    .custom-input {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #E5E5EA;
      border-radius: 12px;
      font-size: 16px;
      transition: all 0.3s;
      outline: none;
    }

    .custom-input:focus {
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
    }

    /* è¯„åˆ†ç»„ä»¶ */
    .rating-stars {
      display: flex;
      gap: 8px;
    }

    .star {
      font-size: 32px;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .star:hover {
      transform: scale(1.2);
    }

    .star.active {
      animation: starPop 0.3s ease;
    }

    @keyframes starPop {
      0% { transform: scale(1); }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); }
    }

    /* å¼€å…³ç»„ä»¶ */
    .switch-wrap {
      display: inline-flex;
      align-items: center;
      gap: 12px;
    }

    .switch {
      width: 50px;
      height: 28px;
      background: #E5E5EA;
      border-radius: 14px;
      cursor: pointer;
      position: relative;
      transition: background 0.3s;
    }

    .switch.active {
      background: #667eea;
    }

    .switch-handle {
      width: 24px;
      height: 24px;
      background: white;
      border-radius: 50%;
      position: absolute;
      top: 2px;
      left: 2px;
      transition: transform 0.3s;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    .switch.active .switch-handle {
      transform: translateX(22px);
    }

    /* å€¼æ˜¾ç¤º */
    .value-display {
      background: #F9FAFB;
      padding: 16px;
      border-radius: 12px;
      margin-top: 16px;
    }

    .value-label {
      font-size: 13px;
      color: #86868B;
      margin-bottom: 4px;
    }

    .value-content {
      font-size: 18px;
      font-weight: 600;
      color: #1D1D1F;
    }

    /* ä»£ç è¯´æ˜ */
    .code-note {
      background: #F9FAFB;
      border: 1px solid #E5E5EA;
      border-radius: 8px;
      padding: 16px;
      margin-top: 16px;
    }

    .code-note h4 {
      color: #1D1D1F;
      margin-bottom: 8px;
    }

    .code-note pre {
      background: #1D1D1F;
      color: #fff;
      padding: 12px;
      border-radius: 6px;
      overflow-x: auto;
      font-family: 'SF Mono', Consolas, monospace;
      font-size: 13px;
      line-height: 1.6;
    }

    .tip-box {
      background: #F3E8FF;
      border-left: 4px solid #9333EA;
      padding: 16px;
      border-radius: 0 8px 8px 0;
      margin: 16px 0;
    }

    .tip-box h4 {
      color: #7C3AED;
      margin-bottom: 8px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: #1D1D1F;
      margin-bottom: 8px;
    }

    .compare-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 16px;
    }

    .compare-card {
      background: #F9FAFB;
      padding: 16px;
      border-radius: 12px;
    }

    .compare-card h4 {
      font-size: 14px;
      color: #86868B;
      margin-bottom: 8px;
    }

    .compare-card code {
      background: #E5E5EA;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <div id="app">
    <h1>ğŸ”— ç»„ä»¶ä¸Šçš„ v-model</h1>

    <!-- æ¦‚å¿µè¯´æ˜ -->
    <div class="demo-section">
      <div class="section-title">ğŸ“š v-model åœ¨ç»„ä»¶ä¸Šçš„åŸç†</div>
      
      <p style="color: #86868B; margin-bottom: 16px;">
        v-model æœ¬è´¨æ˜¯ value å±æ€§ + input äº‹ä»¶çš„è¯­æ³•ç³–
      </p>

      <div class="compare-row">
        <div class="compare-card">
          <h4>ä½¿ç”¨ v-model</h4>
          <code>&lt;my-input v-model="text"&gt;&lt;/my-input&gt;</code>
        </div>
        <div class="compare-card">
          <h4>ç­‰ä»·äº</h4>
          <code>&lt;my-input :value="text" @input="text = $event"&gt;&lt;/my-input&gt;</code>
        </div>
      </div>

      <div class="tip-box">
        <h4>ğŸ’¡ ç»„ä»¶éœ€è¦åšçš„</h4>
        <ul style="font-size: 14px; margin-left: 20px; line-height: 1.8;">
          <li>æ¥æ”¶ <code>value</code> prop</li>
          <li>è§¦å‘ <code>input</code> äº‹ä»¶å¹¶ä¼ é€’æ–°å€¼</li>
        </ul>
      </div>
    </div>

    <!-- åŸºç¡€è¾“å…¥æ¡† -->
    <div class="demo-section">
      <div class="section-title">ğŸ¯ è‡ªå®šä¹‰è¾“å…¥æ¡†ç»„ä»¶</div>
      
      <div class="form-group">
        <label class="form-label">ç”¨æˆ·å</label>
        <my-input v-model="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å"></my-input>
      </div>

      <div class="form-group">
        <label class="form-label">å¯†ç </label>
        <my-input v-model="password" type="password" placeholder="è¯·è¾“å…¥å¯†ç "></my-input>
      </div>

      <div class="value-display">
        <div class="value-label">ç»‘å®šçš„æ•°æ®</div>
        <div class="value-content">ç”¨æˆ·å: {{ username }} | å¯†ç : {{ password }}</div>
      </div>

      <div class="code-note">
        <h4>è‡ªå®šä¹‰è¾“å…¥æ¡†å®ç°</h4>
        <pre>Vue.component('my-input', {
  props: ['value'],  // æ¥æ”¶ value
  template: \`
    &lt;input 
      :value="value"
      @input="$emit('input', $event.target.value)"
    &gt;
  \`
})</pre>
      </div>
    </div>

    <!-- è¯„åˆ†ç»„ä»¶ -->
    <div class="demo-section">
      <div class="section-title">â­ æ˜Ÿçº§è¯„åˆ†ç»„ä»¶</div>
      
      <star-rating v-model="rating"></star-rating>

      <div class="value-display">
        <div class="value-label">å½“å‰è¯„åˆ†</div>
        <div class="value-content">{{ rating }} æ˜Ÿ</div>
      </div>

      <div class="code-note">
        <h4>è¯„åˆ†ç»„ä»¶å®ç°</h4>
        <pre>Vue.component('star-rating', {
  props: { value: Number },
  methods: {
    setRating(n) {
      // è§¦å‘ input äº‹ä»¶ä¼ é€’æ–°å€¼
      this.$emit('input', n)
    }
  },
  template: \`
    &lt;div class="rating-stars"&gt;
      &lt;span v-for="n in 5" :key="n" @click="setRating(n)"&gt;
        {{ n <= value ? 'â­' : 'â˜†' }}
      &lt;/span&gt;
    &lt;/div&gt;
  \`
})</pre>
      </div>
    </div>

    <!-- å¼€å…³ç»„ä»¶ -->
    <div class="demo-section">
      <div class="section-title">ğŸ”˜ å¼€å…³ç»„ä»¶</div>
      
      <div class="switch-wrap">
        <my-switch v-model="darkMode"></my-switch>
        <span style="color: #1D1D1F;">æ·±è‰²æ¨¡å¼</span>
      </div>
      
      <div style="margin-top: 16px;">
        <div class="switch-wrap">
          <my-switch v-model="notifications"></my-switch>
          <span style="color: #1D1D1F;">æ¨é€é€šçŸ¥</span>
        </div>
      </div>

      <div class="value-display">
        <div class="value-label">å¼€å…³çŠ¶æ€</div>
        <div class="value-content">
          æ·±è‰²æ¨¡å¼: {{ darkMode ? 'å¼€å¯' : 'å…³é—­' }} | 
          æ¨é€é€šçŸ¥: {{ notifications ? 'å¼€å¯' : 'å…³é—­' }}
        </div>
      </div>
    </div>

    <!-- model é€‰é¡¹ -->
    <div class="demo-section">
      <div class="section-title">âš™ï¸ è‡ªå®šä¹‰ model é€‰é¡¹ï¼ˆVue 2.2+ï¼‰</div>
      
      <p style="color: #86868B; margin-bottom: 16px;">
        é€šè¿‡ model é€‰é¡¹å¯ä»¥è‡ªå®šä¹‰ prop å’Œ event åç§°
      </p>

      <custom-checkbox v-model="agreed"></custom-checkbox>

      <div class="value-display">
        <div class="value-label">æ˜¯å¦åŒæ„</div>
        <div class="value-content">{{ agreed ? 'å·²åŒæ„ âœ…' : 'æœªåŒæ„ âŒ' }}</div>
      </div>

      <div class="code-note">
        <h4>ä½¿ç”¨ model é€‰é¡¹</h4>
        <pre>Vue.component('custom-checkbox', {
  // è‡ªå®šä¹‰ v-model çš„ prop å’Œ event
  model: {
    prop: 'checked',   // é»˜è®¤æ˜¯ 'value'
    event: 'change'    // é»˜è®¤æ˜¯ 'input'
  },
  props: {
    checked: Boolean
  },
  template: \`
    &lt;label&gt;
      &lt;input type="checkbox" 
        :checked="checked"
        @change="$emit('change', $event.target.checked)"&gt;
      æˆ‘åŒæ„ç”¨æˆ·åè®®
    &lt;/label&gt;
  \`
})</pre>
      </div>
    </div>
  </div>

  <script src="/vue.js"></script>
  <script src="app.js"></script>
</body>
</html>

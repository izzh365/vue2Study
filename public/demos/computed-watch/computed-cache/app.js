/**
 * computed ç¼“å­˜ç‰¹æ€§å¯¹æ¯”
 *
 * ã€æ ¸å¿ƒåŒºåˆ«ã€‘
 * - computedï¼šæœ‰ç¼“å­˜ï¼ä¾èµ–ä¸å˜æ—¶ï¼Œç›´æ¥è¿”å›ä¹‹å‰çš„ç»“æœ
 * - methodsï¼šæ— ç¼“å­˜ï¼æ¯æ¬¡è°ƒç”¨éƒ½ä¼šé‡æ–°æ‰§è¡Œ
 *
 * ã€é€šä¿—æ¯”å–»ã€‘
 * computed åƒæ˜¯"å¤‡å¿˜å½•"ï¼š
 *   - ç¬¬ä¸€æ¬¡è®¡ç®—åæŠŠç»“æœè®°ä¸‹æ¥
 *   - ä¸‹æ¬¡é—®åŒæ ·çš„é—®é¢˜ï¼Œç›´æ¥çœ‹å¤‡å¿˜å½•
 *   - åªæœ‰ç›¸å…³ä¿¡æ¯å˜äº†ï¼Œæ‰é‡æ–°è®¡ç®—
 *
 * methods åƒæ˜¯"æ¯æ¬¡éƒ½é‡æ–°ç®—"ï¼š
 *   - æ¯æ¬¡é—®éƒ½é‡æ–°ç®—ä¸€é
 *   - å³ä½¿é—®çš„æ˜¯å®Œå…¨ç›¸åŒçš„é—®é¢˜
 */
new Vue({
  el: '#app',

  data() {
    return {
      message: 'Hello Vue',
      count: 0,
      // ç”¨äºç»Ÿè®¡è°ƒç”¨æ¬¡æ•°
      computedCount: 0,
      methodCount: 0
    }
  },

  computed: {
    /**
     * è®¡ç®—å±æ€§ - æœ‰ç¼“å­˜
     * åªæœ‰ message å˜åŒ–æ—¶æ‰é‡æ–°è®¡ç®—
     * count å˜åŒ–ä¸ä¼šè§¦å‘é‡æ–°è®¡ç®—ï¼
     */
    computedValue() {
      // é€šè¿‡å‰¯ä½œç”¨è®°å½•è®¡ç®—æ¬¡æ•°ï¼ˆå®é™…é¡¹ç›®ä¸å»ºè®®è¿™æ ·åšï¼‰
      this.$nextTick(() => {
        this.computedCount++
      })
      console.log('ğŸŸ¢ computed è¢«è®¡ç®—äº†')
      return this.message.split('').reverse().join('')
    }
  },

  methods: {
    /**
     * æ–¹æ³• - æ— ç¼“å­˜
     * ç»„ä»¶æ¯æ¬¡é‡æ–°æ¸²æŸ“éƒ½ä¼šè°ƒç”¨ï¼
     * count å˜åŒ–å¯¼è‡´æ¸²æŸ“ï¼Œæ–¹æ³•ä¹Ÿä¼šè¢«è°ƒç”¨
     */
    getMethodValue() {
      this.methodCount++
      console.log('ğŸŸ  methods è¢«è°ƒç”¨äº†')
      return this.message.split('').reverse().join('')
    }
  }
})

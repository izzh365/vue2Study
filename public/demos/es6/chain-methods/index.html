<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é“¾å¼è°ƒç”¨</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; padding: 20px; background: #f5f5f7; }
    .demo-container { max-width: 700px; margin: 0 auto; }
    h3 { color: #1d1d1f; margin-bottom: 16px; font-size: 18px; }
    .demo-section { background: white; border-radius: 12px; padding: 20px; margin-bottom: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
    .section-title { font-size: 14px; color: #86868b; margin-bottom: 12px; font-weight: 500; }
    .pipeline { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; margin: 16px 0; }
    .pipe-step { display: flex; align-items: center; gap: 8px; }
    .pipe-box { background: #e3f2fd; border: 2px solid #2196f3; border-radius: 8px; padding: 10px 16px; font-size: 14px; font-weight: 500; color: #1565c0; }
    .pipe-arrow { font-size: 20px; color: #2196f3; }
    .pipe-result { background: #e8f5e9; border: 2px solid #4caf50; color: #2e7d32; }
    .data-list { margin: 12px 0; }
    .data-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 16px; background: #f5f5f7; border-radius: 8px; margin-bottom: 8px; }
    .data-item:last-child { margin-bottom: 0; }
    .item-name { font-weight: 500; }
    .item-price { color: #ff9500; font-weight: 600; }
    .item-total { color: #34c759; font-weight: 600; }
    .btn { padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-size: 15px; font-weight: 600; transition: all 0.2s; }
    .btn-success { background: #34c759; color: white; }
    .btn-success:hover { background: #2da44e; }
    .result-total { text-align: center; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; margin-top: 16px; }
    .result-label { color: rgba(255,255,255,0.8); font-size: 14px; }
    .result-value { color: white; font-size: 32px; font-weight: 700; margin-top: 4px; }
    pre { background: #1d1d1f; color: #f5f5f7; padding: 16px; border-radius: 8px; font-size: 13px; overflow-x: auto; font-family: 'SF Mono', monospace; margin-top: 12px; }
    .code-line { margin: 2px 0; }
    .code-filter { color: #f48fb1; }
    .code-map { color: #81d4fa; }
    .code-reduce { color: #c5e1a5; }
  </style>
</head>
<body>
  <div id="app" class="demo-container">
    <h3>â›“ï¸ filter + map + reduce é“¾å¼è°ƒç”¨</h3>
    
    <div class="demo-section">
      <div class="section-title">ğŸ“¦ å•†å“æ•°æ®</div>
      <div class="data-list">
        <div v-for="item in products" :key="item.id" class="data-item">
          <span class="item-name">{{ item.name }}</span>
          <span>
            <span class="item-price">Â¥{{ item.price }}</span>
            Ã— {{ item.quantity }}
          </span>
        </div>
      </div>
      
      <div class="section-title" style="margin-top: 16px;">ğŸ¯ éœ€æ±‚ï¼šè®¡ç®—ä»·æ ¼ > 50 çš„å•†å“æ€»ä»·</div>
      
      <div class="pipeline">
        <div class="pipe-box">åŸå§‹æ•°æ®</div>
        <span class="pipe-arrow">â†’</span>
        <div class="pipe-box">filter (ä»·æ ¼>50)</div>
        <span class="pipe-arrow">â†’</span>
        <div class="pipe-box">map (è®¡ç®—å°è®¡)</div>
        <span class="pipe-arrow">â†’</span>
        <div class="pipe-box">reduce (ç´¯åŠ )</div>
        <span class="pipe-arrow">â†’</span>
        <div class="pipe-box pipe-result">æ€»ä»·</div>
      </div>
      
      <button class="btn btn-success" @click="calculateTotal">æ‰§è¡Œé“¾å¼è°ƒç”¨</button>
      
      <div v-if="showResult" class="result-total">
        <div class="result-label">ä»·æ ¼ > 50 çš„å•†å“æ€»ä»·</div>
        <div class="result-value">Â¥{{ totalPrice }}</div>
      </div>
      
      <pre v-if="showResult">
<span class="code-line">products</span>
<span class="code-line">  .<span class="code-filter">filter</span>(item => item.price > 50)    <span style="color: #666;">// è¿‡æ»¤</span></span>
<span class="code-line">  .<span class="code-map">map</span>(item => item.price * item.quantity) <span style="color: #666;">// è®¡ç®—å°è®¡</span></span>
<span class="code-line">  .<span class="code-reduce">reduce</span>((sum, subtotal) => sum + subtotal, 0) <span style="color: #666;">// ç´¯åŠ </span></span>
      </pre>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>
  <script src="app.js"></script>
</body>
</html>

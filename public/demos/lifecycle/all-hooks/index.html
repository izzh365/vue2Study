<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vue ç”Ÿå‘½å‘¨æœŸé’©å­æ‰§è¡Œé¡ºåº</title>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.16/dist/vue.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; padding: 20px; background: #f5f5f7; }
    .demo-container { max-width: 600px; margin: 0 auto; }
    h3 { color: #1d1d1f; margin-bottom: 16px; font-size: 18px; }
    .controls { margin-bottom: 20px; display: flex; gap: 10px; flex-wrap: wrap; }
    .btn { padding: 10px 20px; border: none; border-radius: 8px; font-size: 14px; cursor: pointer; transition: all 0.2s; }
    .btn-primary { background: #007AFF; color: white; }
    .btn-primary:hover { background: #0056b3; }
    .btn-warning { background: #FF9500; color: white; }
    .btn-warning:hover { background: #cc7700; }
    .btn-danger { background: #FF3B30; color: white; }
    .btn-danger:hover { background: #cc2f26; }
    .lifecycle-diagram { background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.08); }
    .phase { display: flex; align-items: center; margin: 10px 0; padding: 12px; border-radius: 8px; transition: all 0.3s; }
    .phase.active { transform: scale(1.02); }
    .phase-create { background: #e3f2fd; border-left: 4px solid #2196F3; }
    .phase-mount { background: #e8f5e9; border-left: 4px solid #4CAF50; }
    .phase-update { background: #fff3e0; border-left: 4px solid #FF9800; }
    .phase-destroy { background: #ffebee; border-left: 4px solid #f44336; }
    .phase-icon { font-size: 24px; margin-right: 12px; }
    .phase-info { flex: 1; }
    .phase-name { font-weight: 600; color: #1d1d1f; }
    .phase-desc { font-size: 12px; color: #86868b; margin-top: 2px; }
    .log-panel { background: #1e1e1e; border-radius: 12px; padding: 16px; max-height: 200px; overflow-y: auto; }
    .log-item { font-family: 'SF Mono', monospace; font-size: 13px; padding: 4px 0; border-bottom: 1px solid #333; }
    .log-item:last-child { border-bottom: none; }
    .log-time { color: #666; }
    .log-hook { color: #4fc3f7; }
    .log-msg { color: #a5d6a7; }
    .message-display { background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; text-align: center; font-size: 18px; color: #1d1d1f; box-shadow: 0 2px 10px rgba(0,0,0,0.08); }
  </style>
</head>
<body>
  <div id="app">
    <div class="demo-container">
      <h3>ğŸ”„ Vue ç”Ÿå‘½å‘¨æœŸé’©å­æ‰§è¡Œé¡ºåº</h3>
      
      <!-- æ§åˆ¶æŒ‰é’® -->
      <div class="controls">
        <button class="btn btn-primary" @click="updateMessage">æ›´æ–°æ•°æ®</button>
        <button class="btn btn-warning" @click="clearLogs">æ¸…ç©ºæ—¥å¿—</button>
        <button class="btn btn-danger" @click="toggleChild">{{ showChild ? 'é”€æ¯å­ç»„ä»¶' : 'åˆ›å»ºå­ç»„ä»¶' }}</button>
      </div>
      
      <!-- ç”Ÿå‘½å‘¨æœŸé˜¶æ®µå›¾ç¤º -->
      <div class="lifecycle-diagram">
        <div class="phase phase-create" :class="{ active: currentPhase === 'create' }">
          <span class="phase-icon">ğŸŒ±</span>
          <div class="phase-info">
            <div class="phase-name">åˆ›å»ºé˜¶æ®µ</div>
            <div class="phase-desc">beforeCreate â†’ created</div>
          </div>
        </div>
        <div class="phase phase-mount" :class="{ active: currentPhase === 'mount' }">
          <span class="phase-icon">ğŸ—ï¸</span>
          <div class="phase-info">
            <div class="phase-name">æŒ‚è½½é˜¶æ®µ</div>
            <div class="phase-desc">beforeMount â†’ mounted</div>
          </div>
        </div>
        <div class="phase phase-update" :class="{ active: currentPhase === 'update' }">
          <span class="phase-icon">ğŸ”„</span>
          <div class="phase-info">
            <div class="phase-name">æ›´æ–°é˜¶æ®µ</div>
            <div class="phase-desc">beforeUpdate â†’ updated</div>
          </div>
        </div>
        <div class="phase phase-destroy" :class="{ active: currentPhase === 'destroy' }">
          <span class="phase-icon">ğŸ’¨</span>
          <div class="phase-info">
            <div class="phase-name">é”€æ¯é˜¶æ®µ</div>
            <div class="phase-desc">beforeDestroy â†’ destroyed</div>
          </div>
        </div>
      </div>
      
      <!-- å½“å‰æ¶ˆæ¯ -->
      <div class="message-display">
        {{ message }}
      </div>
      
      <!-- å­ç»„ä»¶ï¼ˆç”¨äºæ¼”ç¤ºé”€æ¯ï¼‰ -->
      <lifecycle-child v-if="showChild" @log="addLog"></lifecycle-child>
      
      <!-- æ—¥å¿—é¢æ¿ -->
      <div class="log-panel">
        <div class="log-item" v-for="(log, index) in logs" :key="index">
          <span class="log-time">[{{ log.time }}]</span>
          <span class="log-hook">{{ log.hook }}</span>
          <span class="log-msg">{{ log.msg }}</span>
        </div>
        <div class="log-item" v-if="logs.length === 0" style="color: #666;">
          ç­‰å¾…ç”Ÿå‘½å‘¨æœŸäº‹ä»¶...
        </div>
      </div>
    </div>
  </div>
  
  <script src="app.js"></script>
</body>
</html>

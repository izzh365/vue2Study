<template>
  <div class="slot-page">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <div class="page-header">
      <h1>ğŸ“¦ Slot æ’æ§½</h1>
      <p class="subtitle">Slots - å†…å®¹åˆ†å‘ä¸ç»„ä»¶å®šåˆ¶</p>
    </div>

    <!-- æ¦‚å¿µè¯´æ˜ -->
    <KnowledgeCard title="ğŸ“– ä»€ä¹ˆæ˜¯æ’æ§½ï¼Ÿ">
      <div class="concept-content">
        <div class="analogy">
          <span class="emoji">ğŸ°</span>
          <div>
            <strong>é€šä¿—æ¯”å–»ï¼š</strong>
            æ’æ§½å°±åƒ<strong>è€è™æœº</strong>çš„æ§½ä½â€”â€”ç»„ä»¶é¢„ç•™äº†"æ§½"ï¼Œ
            çˆ¶ç»„ä»¶å¯ä»¥å¾€é‡Œé¢"å¡"ä»»ä½•å†…å®¹ï¼Œå®ç°é«˜åº¦å®šåˆ¶ï¼
          </div>
        </div>
        <p class="definition">
          <strong>å®˜æ–¹å®šä¹‰ï¼š</strong>
          æ’æ§½æ˜¯ Vue çš„å†…å®¹åˆ†å‘æœºåˆ¶ï¼Œå…è®¸çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ¨¡æ¿ç‰‡æ®µï¼Œ
          è®©å­ç»„ä»¶åœ¨å…¶æ¨¡æ¿ä¸­æ¸²æŸ“è¿™äº›å†…å®¹ã€‚
        </p>
      </div>
    </KnowledgeCard>

    <!-- æ’æ§½ç±»å‹ -->
    <KnowledgeCard title="ğŸ“‹ æ’æ§½ç±»å‹">
      <div class="slot-types">
        <div class="slot-type">
          <span class="type-icon">ğŸ“­</span>
          <div>
            <strong>é»˜è®¤æ’æ§½</strong>
            <code>&lt;slot&gt;&lt;/slot&gt;</code>
            <p>æœ€åŸºç¡€çš„æ’æ§½ï¼Œçˆ¶ç»„ä»¶å†…å®¹ç›´æ¥å¡«å……</p>
          </div>
        </div>
        <div class="slot-type">
          <span class="type-icon">ğŸ·ï¸</span>
          <div>
            <strong>å…·åæ’æ§½</strong>
            <code>&lt;slot name="header"&gt;</code>
            <p>é€šè¿‡åç§°åˆ†å‘åˆ°ä¸åŒä½ç½®</p>
          </div>
        </div>
        <div class="slot-type">
          <span class="type-icon">ğŸ”„</span>
          <div>
            <strong>ä½œç”¨åŸŸæ’æ§½</strong>
            <code>&lt;slot :data="item"&gt;</code>
            <p>å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®</p>
          </div>
        </div>
      </div>
    </KnowledgeCard>

    <!-- Demo 1: é»˜è®¤æ’æ§½ -->
    <KnowledgeCard title="ğŸ¯ Demo 1ï¼šé»˜è®¤æ’æ§½">
      <TipBox type="info">
        <p>å­ç»„ä»¶ç”¨ <code>&lt;slot&gt;</code> å®šä¹‰æ’æ§½ä½ç½®ï¼Œçˆ¶ç»„ä»¶åœ¨å­ç»„ä»¶æ ‡ç­¾å†…å†™å…¥å†…å®¹ã€‚</p>
      </TipBox>
      <DemoBox demoPath="components/slot-default" title="é»˜è®¤æ’æ§½" />
    </KnowledgeCard>

    <!-- Demo 2: å…·åæ’æ§½ -->
    <KnowledgeCard title="ğŸ¯ Demo 2ï¼šå…·åæ’æ§½">
      <TipBox type="info">
        <p>ä½¿ç”¨ <code>name</code> å±æ€§ç»™æ’æ§½å‘½åï¼Œçˆ¶ç»„ä»¶ç”¨ <code>v-slot:name</code> æˆ– <code>#name</code> æŒ‡å®šå†…å®¹ã€‚</p>
      </TipBox>
      <div class="syntax-compare">
        <div class="syntax-item">
          <strong>å®Œæ•´å†™æ³•</strong>
          <code>&lt;template v-slot:header&gt;</code>
        </div>
        <div class="syntax-item">
          <strong>ç®€å†™</strong>
          <code>&lt;template #header&gt;</code>
        </div>
      </div>
      <DemoBox demoPath="components/slot-named" title="å…·åæ’æ§½" />
    </KnowledgeCard>

    <!-- Demo 3: ä½œç”¨åŸŸæ’æ§½ -->
    <KnowledgeCard title="ğŸ¯ Demo 3ï¼šä½œç”¨åŸŸæ’æ§½">
      <TipBox type="info">
        <p>ä½œç”¨åŸŸæ’æ§½è®©çˆ¶ç»„ä»¶èƒ½è®¿é—®å­ç»„ä»¶çš„æ•°æ®ã€‚å­ç»„ä»¶é€šè¿‡ <code>:data="value"</code> ä¼ é€’ï¼Œçˆ¶ç»„ä»¶é€šè¿‡ <code>v-slot="slotProps"</code> æ¥æ”¶ã€‚</p>
      </TipBox>
      <div class="scope-diagram">
        <div class="scope-child">
          <strong>å­ç»„ä»¶</strong>
          <code>&lt;slot :user="userData"&gt;</code>
        </div>
        <div class="scope-arrow">â¡ï¸</div>
        <div class="scope-parent">
          <strong>çˆ¶ç»„ä»¶</strong>
          <code>v-slot="{ user }"</code>
        </div>
      </div>
      <DemoBox demoPath="components/slot-scope" title="ä½œç”¨åŸŸæ’æ§½" />
    </KnowledgeCard>

    <!-- Demo 4: ç»¼åˆæ¡ˆä¾‹ -->
    <KnowledgeCard title="ğŸ¯ Demo 4ï¼šæ’æ§½ç»¼åˆæ¡ˆä¾‹">
      <TipBox type="success">
        <p>å®é™…é¡¹ç›®ä¸­çš„æ’æ§½åº”ç”¨ï¼šTab ç»„ä»¶ã€æŠ˜å é¢æ¿ã€æ¨¡æ€æ¡†ã€åˆ—è¡¨ç»„ä»¶ç­‰ã€‚</p>
      </TipBox>
      <DemoBox demoPath="components/slot-advanced" title="æ’æ§½ç»¼åˆæ¡ˆä¾‹" />
    </KnowledgeCard>

    <!-- æ³¨æ„äº‹é¡¹ -->
    <TipBox type="warning" title="âš ï¸ æ³¨æ„äº‹é¡¹">
      <ul class="warning-list">
        <li><code>v-slot</code> åªèƒ½æ·»åŠ åœ¨ <code>&lt;template&gt;</code> æˆ–ç»„ä»¶æ ‡ç­¾ä¸Š</li>
        <li>é»˜è®¤æ’æ§½çš„å†…å®¹å¯ä»¥ä½œä¸º<strong>åå¤‡å†…å®¹</strong>ï¼Œå½“çˆ¶ç»„ä»¶ä¸ä¼ å†…å®¹æ—¶æ˜¾ç¤º</li>
        <li>ä½œç”¨åŸŸæ’æ§½çš„ props å¯ä»¥ä½¿ç”¨<strong>è§£æ„</strong>è¯­æ³•ç®€åŒ–</li>
        <li>Vue 2.6+ æ¨èä½¿ç”¨ <code>v-slot</code>ï¼Œæ—§çš„ <code>slot</code> å’Œ <code>slot-scope</code> å·²åºŸå¼ƒ</li>
      </ul>
    </TipBox>

    <!-- æœ€ä½³å®è·µ -->
    <TipBox type="success" title="âœ… æœ€ä½³å®è·µ">
      <ul class="practice-list">
        <li>ä½¿ç”¨å…·åæ’æ§½<strong>æ¸…æ™°åˆ’åˆ†</strong>ç»„ä»¶çš„å¯å®šåˆ¶åŒºåŸŸ</li>
        <li>ä½œç”¨åŸŸæ’æ§½é€‚åˆ<strong>åˆ—è¡¨æ¸²æŸ“</strong>åœºæ™¯ï¼Œè®©çˆ¶ç»„ä»¶æ§åˆ¶æ¯é¡¹çš„å±•ç¤º</li>
        <li>ä¸ºæ’æ§½æä¾›<strong>é»˜è®¤å†…å®¹</strong>ä½œä¸ºåå¤‡æ–¹æ¡ˆ</li>
        <li>ä½¿ç”¨ <code>#</code> ç®€å†™æé«˜ä»£ç å¯è¯»æ€§</li>
      </ul>
    </TipBox>
  </div>
</template>

<script>
import KnowledgeCard from '@/components/content/KnowledgeCard.vue'
import TipBox from '@/components/content/TipBox.vue'
import DemoBox from '@/components/demo/DemoBox.vue'

export default {
  name: 'SlotPage',

  components: {
    KnowledgeCard,
    TipBox,
    DemoBox
  }
}
</script>

<style lang="scss" scoped>
.slot-page {
  padding: 0 0 $spacing-2xl;
}

.page-header {
  text-align: center;
  margin-bottom: $spacing-xl;
  padding: $spacing-xl;
  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
  border-radius: $radius-lg;
  color: white;

  h1 {
    font-size: 28px;
    margin-bottom: $spacing-sm;
    text-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  .subtitle {
    opacity: 0.95;
    font-size: $font-size-lg;
  }
}

.concept-content {
  .analogy {
    display: flex;
    gap: $spacing-md;
    padding: $spacing-md;
    background: $color-bg;
    border-radius: $radius-md;
    margin-bottom: $spacing-md;

    .emoji {
      font-size: 32px;
    }
  }

  .definition {
    color: $color-text-secondary;
    line-height: 1.8;

    strong {
      color: $color-text;
    }
  }
}

.slot-types {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: $spacing-md;

  .slot-type {
    display: flex;
    gap: $spacing-md;
    padding: $spacing-md;
    background: $color-bg;
    border-radius: $radius-md;

    .type-icon {
      font-size: 24px;
    }

    strong {
      display: block;
      color: $color-text;
      margin-bottom: 4px;
    }

    code {
      display: block;
      font-family: $font-family-code;
      font-size: $font-size-xs;
      color: $color-primary;
      margin-bottom: 4px;
    }

    p {
      color: $color-text-secondary;
      font-size: $font-size-xs;
      margin: 0;
    }
  }
}

.syntax-compare, .scope-diagram {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: $spacing-md;
  padding: $spacing-md;
  margin-bottom: $spacing-md;
  flex-wrap: wrap;
}

.syntax-compare {
  .syntax-item {
    padding: $spacing-md;
    background: $color-bg;
    border-radius: $radius-md;
    text-align: center;

    strong {
      display: block;
      margin-bottom: $spacing-sm;
      color: $color-text;
    }

    code {
      font-family: $font-family-code;
      font-size: $font-size-sm;
      color: $color-primary;
    }
  }
}

.scope-diagram {
  .scope-child, .scope-parent {
    padding: $spacing-md;
    border-radius: $radius-md;
    text-align: center;

    strong {
      display: block;
      margin-bottom: $spacing-sm;
    }

    code {
      font-family: $font-family-code;
      font-size: $font-size-sm;
    }
  }

  .scope-child {
    background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    color: white;

    code {
      background: rgba(255,255,255,0.2);
      padding: 4px 8px;
      border-radius: $radius-sm;
    }
  }

  .scope-arrow {
    font-size: 24px;
  }

  .scope-parent {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;

    code {
      background: rgba(255,255,255,0.2);
      padding: 4px 8px;
      border-radius: $radius-sm;
    }
  }
}

.warning-list, .practice-list {
  margin: 0;
  padding-left: $spacing-lg;

  li {
    margin-bottom: $spacing-sm;
    line-height: 1.6;

    &:last-child {
      margin-bottom: 0;
    }

    code {
      background: rgba(0,0,0,0.05);
      padding: 2px 6px;
      border-radius: $radius-sm;
      font-family: $font-family-code;
    }
  }
}
</style>

<template>
  <div class="directive-page v-bind-page">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <div class="page-header">
      <h1>ğŸ”— v-bind å±æ€§ç»‘å®š</h1>
      <p class="page-desc">åŠ¨æ€ç»‘å®š HTML å±æ€§ï¼Œè®©æ•°æ®é©±åŠ¨è§†å›¾</p>
    </div>

    <!-- æ¦‚å¿µè¯´æ˜ -->
    <KnowledgeCard title="ğŸ“– ä»€ä¹ˆæ˜¯ v-bindï¼Ÿ">
      <p>
        <strong>v-bind</strong> æŒ‡ä»¤ç”¨äºåŠ¨æ€ç»‘å®š HTML å…ƒç´ çš„å±æ€§ã€‚
        æƒ³è±¡ä¸€ä¸‹ï¼Œæ™®é€šçš„ HTML å±æ€§æ˜¯"å†™æ­»çš„"ï¼Œè€Œ v-bind è®©å±æ€§å€¼å¯ä»¥æ˜¯"æ´»çš„"â€”â€”éšæ•°æ®å˜åŒ–è€Œå˜åŒ–ã€‚
      </p>
      <div class="analogy-box">
        <span class="analogy-icon">ğŸ¯</span>
        <div>
          <strong>é€šä¿—æ¯”å–»ï¼š</strong>å°±åƒé¥æ§å™¨æ§åˆ¶ç”µè§†ä¸€æ ·ï¼Œv-bind è®©ä½ ç”¨æ•°æ®"é¥æ§"HTMLå±æ€§
        </div>
      </div>
    </KnowledgeCard>

    <!-- è¯­æ³•æ ¼å¼ -->
    <KnowledgeCard title="ğŸ“ è¯­æ³•æ ¼å¼">
      <div class="syntax-table">
        <div class="syntax-row">
          <div class="syntax-label">å®Œæ•´å†™æ³•</div>
          <div class="syntax-code"><code>v-bind:å±æ€§="è¡¨è¾¾å¼"</code></div>
        </div>
        <div class="syntax-row highlight">
          <div class="syntax-label">ç®€å†™ï¼ˆæ¨èï¼‰</div>
          <div class="syntax-code"><code>:å±æ€§="è¡¨è¾¾å¼"</code></div>
        </div>
      </div>
      <CodeBlock 
        :code="syntaxCode"
        language="html"
      />
    </KnowledgeCard>

    <!-- Demo å±•ç¤ºåŒº -->
    <KnowledgeCard title="ğŸ¯ å®æˆ˜ç¤ºä¾‹">
      <!-- Demo 1: åŸºç¡€ç”¨æ³• -->
      <div class="demo-section">
        <h4>Demo 1: åŸºç¡€å±æ€§ç»‘å®š</h4>
        <p class="demo-desc">ç»‘å®š hrefã€titleã€disabled ç­‰å¸¸ç”¨å±æ€§</p>
        <DemoBox 
          demoPath="directives/v-bind-basic"
          title="v-bind åŸºç¡€ç”¨æ³•"
          height="480px"
        />
      </div>

      <!-- Demo 2: class å¯¹è±¡è¯­æ³• -->
      <div class="demo-section">
        <h4>Demo 2: åŠ¨æ€ class - å¯¹è±¡è¯­æ³•</h4>
        <p class="demo-desc">æ ¹æ®æ¡ä»¶åŠ¨æ€åˆ‡æ¢ CSS ç±»å</p>
        <DemoBox 
          demoPath="directives/v-bind-class-object"
          title="class å¯¹è±¡è¯­æ³•"
          height="580px"
        />
      </div>

      <!-- Demo 3: class æ•°ç»„è¯­æ³• -->
      <div class="demo-section">
        <h4>Demo 3: åŠ¨æ€ class - æ•°ç»„è¯­æ³•</h4>
        <p class="demo-desc">ä½¿ç”¨æ•°ç»„è¯­æ³•ç»‘å®šå¤šä¸ªç±»å</p>
        <DemoBox 
          demoPath="directives/v-bind-class-array"
          title="class æ•°ç»„è¯­æ³•"
          height="520px"
        />
      </div>

      <!-- Demo 4: style å¯¹è±¡è¯­æ³• -->
      <div class="demo-section">
        <h4>Demo 4: åŠ¨æ€ style - å¯¹è±¡è¯­æ³•</h4>
        <p class="demo-desc">ä½¿ç”¨æ»‘å—å’Œé¢œè‰²é€‰æ‹©å™¨å®æ—¶æ§åˆ¶æ ·å¼</p>
        <DemoBox 
          demoPath="directives/v-bind-style-object"
          title="style å¯¹è±¡è¯­æ³•"
          height="600px"
        />
      </div>
    </KnowledgeCard>

    <!-- å¸¸ç”¨åœºæ™¯ -->
    <KnowledgeCard title="âš¡ å¸¸ç”¨åœºæ™¯">
      <div class="scene-grid">
        <div class="scene-item">
          <span class="scene-icon">ğŸ–¼ï¸</span>
          <div>
            <strong>å›¾ç‰‡ src</strong>
            <p>&lt;img :src="imageUrl"&gt;</p>
          </div>
        </div>
        <div class="scene-item">
          <span class="scene-icon">ğŸ”—</span>
          <div>
            <strong>é“¾æ¥ href</strong>
            <p>&lt;a :href="url"&gt;</p>
          </div>
        </div>
        <div class="scene-item">
          <span class="scene-icon">ğŸ¨</span>
          <div>
            <strong>åŠ¨æ€ class</strong>
            <p>&lt;div :class="{ active: isActive }"&gt;</p>
          </div>
        </div>
        <div class="scene-item">
          <span class="scene-icon">âœ¨</span>
          <div>
            <strong>åŠ¨æ€ style</strong>
            <p>&lt;div :style="{ color: textColor }"&gt;</p>
          </div>
        </div>
      </div>
    </KnowledgeCard>

    <!-- æ³¨æ„äº‹é¡¹ -->
    <TipBox type="warning" title="âš ï¸ æ³¨æ„äº‹é¡¹">
      <ul>
        <li>v-bind ç»‘å®šçš„æ˜¯<strong>è¡¨è¾¾å¼</strong>ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²</li>
        <li>class å’Œ style ç»‘å®šæ”¯æŒ<strong>å¯¹è±¡</strong>å’Œ<strong>æ•°ç»„</strong>ä¸¤ç§è¯­æ³•</li>
        <li>style çš„å±æ€§åä½¿ç”¨<strong>é©¼å³°å‘½å</strong>ï¼ˆå¦‚ fontSizeï¼‰æˆ–<strong>çŸ­æ¨ªçº¿åŠ å¼•å·</strong>ï¼ˆå¦‚ 'font-size'ï¼‰</li>
      </ul>
    </TipBox>
  </div>
</template>

<script>
/**
 * v-bind å±æ€§ç»‘å®šé¡µé¢
 * 
 * è®²è§£ Vue ä¸­æœ€å¸¸ç”¨çš„å±æ€§ç»‘å®šæŒ‡ä»¤
 */
import KnowledgeCard from '@/components/content/KnowledgeCard.vue'
import TipBox from '@/components/content/TipBox.vue'
import DemoBox from '@/components/demo/DemoBox.vue'
import CodeBlock from '@/components/demo/CodeBlock.vue'

export default {
  name: 'VBind',

  components: {
    KnowledgeCard,
    TipBox,
    DemoBox,
    CodeBlock
  },

  data() {
    return {
      syntaxCode: `<!-- å®Œæ•´å†™æ³• -->
<a v-bind:href="url">é“¾æ¥</a>
<img v-bind:src="imageSrc">

<!-- ç®€å†™æ–¹å¼ï¼ˆæ¨èï¼‰ -->
<a :href="url">é“¾æ¥</a>
<img :src="imageSrc">
<button :disabled="isLoading">æäº¤</button>

<!-- åŠ¨æ€ class -->
<div :class="{ active: isActive, large: isLarge }"></div>
<div :class="[activeClass, errorClass]"></div>

<!-- åŠ¨æ€ style -->
<div :style="{ color: textColor, fontSize: size + 'px' }"></div>`
    }
  }
}
</script>

<style lang="scss" scoped>
.v-bind-page {
  .page-header {
    margin-bottom: $spacing-xl;
    
    h1 {
      font-size: 28px;
      margin-bottom: $spacing-sm;
    }
    
    .page-desc {
      color: $color-text-secondary;
      font-size: 16px;
    }
  }

  .analogy-box {
    display: flex;
    align-items: flex-start;
    gap: $spacing-md;
    padding: $spacing-md;
    background: rgba($color-primary, 0.05);
    border-radius: $radius-md;
    margin-top: $spacing-md;

    .analogy-icon {
      font-size: 24px;
    }
  }

  .syntax-table {
    margin-bottom: $spacing-md;

    .syntax-row {
      display: flex;
      align-items: center;
      padding: $spacing-sm $spacing-md;
      border-radius: $radius-sm;

      &.highlight {
        background: rgba($color-success, 0.1);
      }

      .syntax-label {
        width: 120px;
        color: $color-text-secondary;
        font-size: 14px;
      }

      .syntax-code {
        code {
          font-family: $font-family-code;
          font-size: 15px;
          color: $color-primary;
        }
      }
    }
  }

  .demo-section {
    margin-bottom: $spacing-xl;

    h4 {
      font-size: 16px;
      margin-bottom: $spacing-xs;
    }

    .demo-desc {
      color: $color-text-secondary;
      font-size: 14px;
      margin-bottom: $spacing-md;
    }
  }

  .scene-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: $spacing-md;

    .scene-item {
      display: flex;
      align-items: flex-start;
      gap: $spacing-sm;
      padding: $spacing-md;
      background: $color-bg;
      border-radius: $radius-md;

      .scene-icon {
        font-size: 24px;
      }

      strong {
        display: block;
        margin-bottom: 4px;
      }

      p {
        font-family: $font-family-code;
        font-size: 12px;
        color: $color-text-secondary;
        margin: 0;
      }
    }
  }
}
</style>

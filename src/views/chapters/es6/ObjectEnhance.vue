<template>
  <div class="knowledge-page">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <div class="page-header">
      <h1>âœ¨ å¯¹è±¡å¢å¼ºå†™æ³•</h1>
      <p class="subtitle">ES6 è®©å¯¹è±¡å­—é¢é‡å†™æ³•æ›´åŠ ç®€æ´ä¼˜é›…</p>
    </div>

    <!-- 1. æ¦‚å¿µè¯´æ˜ -->
    <KnowledgeCard title="ğŸ“– æ¦‚å¿µè¯´æ˜ï¼ˆæ˜¯ä»€ä¹ˆï¼‰">
      <div class="concept-content">
        <h4>ğŸ¯ é€šä¿—æ¯”å–»</h4>
        <p>å°±åƒè¯´è¯æ—¶çš„çœç•¥ä¸€æ ·ï¼š</p>
        <ul>
          <li>å®Œæ•´è¯´æ³•ï¼š"æˆ‘çš„åå­—æ˜¯å¼ ä¸‰" â†’ ç®€æ´è¯´æ³•ï¼š"æˆ‘å«å¼ ä¸‰"</li>
          <li>ES5 å†™æ³•ï¼š<code>{ name: name }</code> â†’ ES6 ç®€å†™ï¼š<code>{ name }</code></li>
        </ul>
        
        <h4>ğŸ“š ä¸‰ç§å¢å¼ºå†™æ³•</h4>
        <ul>
          <li><strong>å±æ€§ç®€å†™</strong>ï¼šå˜é‡åå’Œå±æ€§åç›¸åŒæ—¶ï¼Œå¯ä»¥åªå†™ä¸€ä¸ª</li>
          <li><strong>æ–¹æ³•ç®€å†™</strong>ï¼šçœç•¥ function å…³é”®å­—</li>
          <li><strong>è®¡ç®—å±æ€§å</strong>ï¼šç”¨ [] åŒ…è£¹è¡¨è¾¾å¼ä½œä¸ºå±æ€§å</li>
        </ul>
      </div>
    </KnowledgeCard>

    <!-- 2. è¯­æ³•å¯¹æ¯” -->
    <KnowledgeCard title="ğŸ“ è¯­æ³•å¯¹æ¯”">
      <CodeBlock :code="syntaxCode" language="javascript" />
    </KnowledgeCard>

    <!-- Demo åˆ—è¡¨ -->
    <h2 class="section-title">ğŸ¯ å®æˆ˜æ¼”ç¤º</h2>

    <!-- Demo 1: å±æ€§ç®€å†™ -->
    <KnowledgeCard title="Demo 1ï¼šå±æ€§ç®€å†™">
      <p class="demo-desc">å½“å˜é‡åå’Œå±æ€§åç›¸åŒæ—¶ï¼Œå¯ä»¥çœç•¥å†’å·å’Œå€¼</p>
      <DemoBox 
        demoPath="es6/property-shorthand"
        title="å±æ€§ç®€å†™"
        :height="300"
      />
    </KnowledgeCard>

    <!-- Demo 2: æ–¹æ³•ç®€å†™ -->
    <KnowledgeCard title="Demo 2ï¼šæ–¹æ³•ç®€å†™">
      <p class="demo-desc">å¯¹è±¡ä¸­çš„æ–¹æ³•å¯ä»¥çœç•¥ function å…³é”®å­—</p>
      <DemoBox 
        demoPath="es6/method-shorthand"
        title="æ–¹æ³•ç®€å†™"
        :height="300"
      />
    </KnowledgeCard>

    <!-- Demo 3: è®¡ç®—å±æ€§å -->
    <KnowledgeCard title="Demo 3ï¼šè®¡ç®—å±æ€§å">
      <p class="demo-desc">ä½¿ç”¨ [] å¯ä»¥åŠ¨æ€è®¾ç½®å±æ€§å</p>
      <DemoBox 
        demoPath="es6/computed-property"
        title="è®¡ç®—å±æ€§å"
        :height="320"
      />
    </KnowledgeCard>

    <!-- Demo 4: å¯¹è±¡è§£æ„ -->
    <KnowledgeCard title="Demo 4ï¼šå¯¹è±¡è§£æ„èµ‹å€¼">
      <p class="demo-desc">å¿«é€Ÿä»å¯¹è±¡ä¸­æå–å±æ€§åˆ°å˜é‡</p>
      <DemoBox 
        demoPath="es6/object-destructuring"
        title="å¯¹è±¡è§£æ„"
        :height="340"
      />
    </KnowledgeCard>

    <!-- Demo 5: æ•°ç»„è§£æ„ -->
    <KnowledgeCard title="Demo 5ï¼šæ•°ç»„è§£æ„èµ‹å€¼">
      <p class="demo-desc">å¿«é€Ÿä»æ•°ç»„ä¸­æå–å…ƒç´ åˆ°å˜é‡</p>
      <DemoBox 
        demoPath="es6/array-destructuring"
        title="æ•°ç»„è§£æ„"
        :height="320"
      />
    </KnowledgeCard>

    <!-- æ³¨æ„äº‹é¡¹ -->
    <TipBox type="info" title="ğŸ’¡ åœ¨ Vue ä¸­çš„åº”ç”¨">
      <ul>
        <li><strong>data() è¿”å›å€¼</strong>ï¼šç»å¸¸ä½¿ç”¨å±æ€§ç®€å†™</li>
        <li><strong>methods</strong>ï¼šä½¿ç”¨æ–¹æ³•ç®€å†™å®šä¹‰</li>
        <li><strong>computed</strong>ï¼šgetter/setter ä½¿ç”¨æ–¹æ³•ç®€å†™</li>
        <li><strong>ç»„ä»¶å¯¼å…¥</strong>ï¼šcomponents: { MyComponent } å±æ€§ç®€å†™</li>
      </ul>
    </TipBox>

    <!-- Vue å®æˆ˜ -->
    <KnowledgeCard title="ğŸ“¦ Vue ä¸­çš„å®é™…åº”ç”¨">
      <CodeBlock :code="vueExampleCode" language="javascript" />
    </KnowledgeCard>
  </div>
</template>

<script>
/**
 * @description å¯¹è±¡å¢å¼ºå†™æ³•çŸ¥è¯†ç‚¹é¡µé¢
 * @author Vue2 Learning Project
 */
import KnowledgeCard from '@/components/content/KnowledgeCard.vue'
import TipBox from '@/components/content/TipBox.vue'
import CodeBlock from '@/components/demo/CodeBlock.vue'
import DemoBox from '@/components/demo/DemoBox.vue'

export default {
  name: 'ObjectEnhance',
  
  components: {
    KnowledgeCard,
    TipBox,
    CodeBlock,
    DemoBox
  },
  
  data() {
    return {
      syntaxCode: `// ==================== ES5 ä¼ ç»Ÿå†™æ³• ====================
var name = 'å¼ ä¸‰'
var age = 18

// å±æ€§
var person = {
  name: name,
  age: age
}

// æ–¹æ³•
var obj = {
  sayHello: function() {
    console.log('Hello')
  }
}

// ==================== ES6 å¢å¼ºå†™æ³• ====================
const name = 'å¼ ä¸‰'
const age = 18

// 1. å±æ€§ç®€å†™
const person = { name, age }

// 2. æ–¹æ³•ç®€å†™
const obj = {
  sayHello() {
    console.log('Hello')
  }
}

// 3. è®¡ç®—å±æ€§å
const key = 'dynamicKey'
const data = {
  [key]: 'value',              // { dynamicKey: 'value' }
  ['pre_' + key]: 'prefixed'   // { pre_dynamicKey: 'prefixed' }
}`,

      vueExampleCode: `// Vue ç»„ä»¶ä¸­å¤§é‡ä½¿ç”¨ ES6 å¢å¼ºå†™æ³•
export default {
  name: 'UserCard',
  
  // ç»„ä»¶æ³¨å†Œ - å±æ€§ç®€å†™
  components: {
    Avatar,      // ç­‰åŒäº Avatar: Avatar
    Button       // ç­‰åŒäº Button: Button
  },
  
  data() {
    const username = 'å¼ ä¸‰'
    const level = 5
    
    // è¿”å›å¯¹è±¡ - å±æ€§ç®€å†™
    return { username, level }
  },
  
  // æ–¹æ³• - æ–¹æ³•ç®€å†™ï¼ˆè‡ªåŠ¨çœç•¥ functionï¼‰
  methods: {
    handleClick() {
      console.log('clicked')
    },
    
    fetchData() {
      // ...
    }
  },
  
  // è®¡ç®—å±æ€§ - æ–¹æ³•ç®€å†™
  computed: {
    fullName() {
      return this.firstName + this.lastName
    }
  }
}`
    }
  }
}
</script>

<style lang="scss" scoped>
.knowledge-page {
  max-width: 900px;
  margin: 0 auto;
}

.page-header {
  margin-bottom: $spacing-xl;
  
  h1 {
    font-size: $font-size-3xl;
    margin-bottom: $spacing-sm;
  }
  
  .subtitle {
    color: $color-text-secondary;
    font-size: $font-size-lg;
  }
}

.section-title {
  font-size: $font-size-xl;
  margin: $spacing-xl 0 $spacing-lg;
  padding-bottom: $spacing-sm;
  border-bottom: 2px solid $color-primary;
}

.demo-desc {
  color: $color-text-secondary;
  margin-bottom: $spacing-md;
}

.concept-content {
  h4 {
    color: $color-primary;
    margin: $spacing-md 0 $spacing-sm;
    
    &:first-child {
      margin-top: 0;
    }
  }
  
  ul {
    padding-left: $spacing-lg;
    
    li {
      margin-bottom: $spacing-xs;
      line-height: 1.8;
    }
  }
  
  code {
    background: $color-code-bg;
    padding: 2px 6px;
    border-radius: 4px;
    font-family: $font-family-code;
    color: $color-primary;
  }
}
</style>

<template>
  <div class="lifecycle-page">
    <!-- é¡µé¢æ ‡é¢˜ -->
    <div class="page-header">
      <h1>ğŸ”„ Vue ç”Ÿå‘½å‘¨æœŸ</h1>
      <p class="subtitle">ç†è§£ Vue å®ä¾‹ä»åˆ›å»ºåˆ°é”€æ¯çš„å®Œæ•´è¿‡ç¨‹</p>
    </div>

    <!-- æ¦‚å¿µè¯´æ˜ -->
    <KnowledgeCard title="ğŸ“– ä»€ä¹ˆæ˜¯ç”Ÿå‘½å‘¨æœŸ">
      <div class="concept-content">
        <div class="metaphor">
          <h4>ğŸ­ é€šä¿—æ¯”å–»ï¼šäººçš„ä¸€ç”Ÿ</h4>
          <p>Vue å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸå°±åƒäººçš„ä¸€ç”Ÿï¼š</p>
          <div class="life-stages">
            <div class="stage">
              <span class="stage-icon">ğŸ‘¶</span>
              <span class="stage-name">å‡ºç”Ÿ</span>
              <span class="stage-hook">created</span>
            </div>
            <div class="stage-arrow">â†’</div>
            <div class="stage">
              <span class="stage-icon">ğŸ«</span>
              <span class="stage-name">ä¸Šå­¦</span>
              <span class="stage-hook">mounted</span>
            </div>
            <div class="stage-arrow">â†’</div>
            <div class="stage">
              <span class="stage-icon">ğŸ’¼</span>
              <span class="stage-name">å·¥ä½œæ›´æ–°</span>
              <span class="stage-hook">updated</span>
            </div>
            <div class="stage-arrow">â†’</div>
            <div class="stage">
              <span class="stage-icon">ğŸ‘´</span>
              <span class="stage-name">é€€ä¼‘</span>
              <span class="stage-hook">destroyed</span>
            </div>
          </div>
        </div>
        
        <div class="definition">
          <h4>ğŸ“š å®˜æ–¹å®šä¹‰</h4>
          <p>æ¯ä¸ª Vue å®ä¾‹åœ¨è¢«åˆ›å»ºæ—¶éƒ½è¦ç»è¿‡ä¸€ç³»åˆ—çš„åˆå§‹åŒ–è¿‡ç¨‹â€”â€”ä¾‹å¦‚ï¼Œéœ€è¦è®¾ç½®æ•°æ®ç›‘å¬ã€ç¼–è¯‘æ¨¡æ¿ã€å°†å®ä¾‹æŒ‚è½½åˆ° DOM å¹¶åœ¨æ•°æ®å˜åŒ–æ—¶æ›´æ–° DOM ç­‰ã€‚åŒæ—¶åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿä¼šè¿è¡Œä¸€äº›å«åš<strong>ç”Ÿå‘½å‘¨æœŸé’©å­</strong>çš„å‡½æ•°ï¼Œç»™ç”¨æˆ·åœ¨ä¸åŒé˜¶æ®µæ·»åŠ è‡ªå·±ä»£ç çš„æœºä¼šã€‚</p>
        </div>
      </div>
    </KnowledgeCard>

    <!-- ç”Ÿå‘½å‘¨æœŸå›¾ç¤º -->
    <KnowledgeCard title="ğŸ“Š ç”Ÿå‘½å‘¨æœŸå›¾ç¤º">
      <div class="lifecycle-diagram">
        <!-- åˆ›å»ºé˜¶æ®µ -->
        <div class="phase-group">
          <div class="phase-title">ğŸŒ± åˆ›å»ºé˜¶æ®µ</div>
          <div class="hooks-row">
            <div class="hook-item hook-before">
              <div class="hook-name">beforeCreate</div>
              <div class="hook-desc">å®ä¾‹åˆå§‹åŒ–åï¼Œdata/methods ä¸å¯ç”¨</div>
            </div>
            <div class="hook-arrow">â†’</div>
            <div class="hook-item hook-after">
              <div class="hook-name">created</div>
              <div class="hook-desc">å®ä¾‹åˆ›å»ºå®Œæˆï¼Œå¯è®¿é—® data/methods</div>
              <div class="hook-tip">ğŸ’¡ é€‚åˆå‘èµ· API è¯·æ±‚</div>
            </div>
          </div>
        </div>

        <!-- æŒ‚è½½é˜¶æ®µ -->
        <div class="phase-group">
          <div class="phase-title">ğŸ—ï¸ æŒ‚è½½é˜¶æ®µ</div>
          <div class="hooks-row">
            <div class="hook-item hook-before">
              <div class="hook-name">beforeMount</div>
              <div class="hook-desc">æ¨¡æ¿ç¼–è¯‘å®Œæˆï¼ŒDOM è¿˜æœªæŒ‚è½½</div>
            </div>
            <div class="hook-arrow">â†’</div>
            <div class="hook-item hook-after">
              <div class="hook-name">mounted</div>
              <div class="hook-desc">DOM å·²æŒ‚è½½ï¼Œå¯ä»¥è®¿é—® $el</div>
              <div class="hook-tip">ğŸ’¡ é€‚åˆæ“ä½œ DOMã€åˆå§‹åŒ–ç¬¬ä¸‰æ–¹åº“</div>
            </div>
          </div>
        </div>

        <!-- æ›´æ–°é˜¶æ®µ -->
        <div class="phase-group">
          <div class="phase-title">ğŸ”„ æ›´æ–°é˜¶æ®µ</div>
          <div class="hooks-row">
            <div class="hook-item hook-before">
              <div class="hook-name">beforeUpdate</div>
              <div class="hook-desc">æ•°æ®å˜åŒ–ï¼ŒDOM è¿˜æ˜¯æ—§çš„</div>
            </div>
            <div class="hook-arrow">â†’</div>
            <div class="hook-item hook-after">
              <div class="hook-name">updated</div>
              <div class="hook-desc">DOM å·²æ›´æ–°å®Œæˆ</div>
              <div class="hook-tip">âš ï¸ é¿å…åœ¨æ­¤ä¿®æ”¹ data</div>
            </div>
          </div>
        </div>

        <!-- é”€æ¯é˜¶æ®µ -->
        <div class="phase-group">
          <div class="phase-title">ğŸ’¨ é”€æ¯é˜¶æ®µ</div>
          <div class="hooks-row">
            <div class="hook-item hook-before">
              <div class="hook-name">beforeDestroy</div>
              <div class="hook-desc">å®ä¾‹é”€æ¯å‰ï¼Œæœ€åæ¸…ç†æœºä¼š</div>
              <div class="hook-tip">ğŸ’¡ æ¸…é™¤å®šæ—¶å™¨ã€è§£ç»‘äº‹ä»¶</div>
            </div>
            <div class="hook-arrow">â†’</div>
            <div class="hook-item hook-after">
              <div class="hook-name">destroyed</div>
              <div class="hook-desc">å®ä¾‹å·²é”€æ¯ï¼Œæ‰€æœ‰ç»‘å®šè§£é™¤</div>
            </div>
          </div>
        </div>
      </div>
    </KnowledgeCard>

    <!-- 8ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­è¡¨æ ¼ -->
    <KnowledgeCard title="ğŸ“‹ 8 ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­è¯¦è§£">
      <div class="hooks-table">
        <table>
          <thead>
            <tr>
              <th>é˜¶æ®µ</th>
              <th>é’©å­å‡½æ•°</th>
              <th>è°ƒç”¨æ—¶æœº</th>
              <th>å¯è®¿é—®</th>
              <th>å¸¸è§ç”¨é€”</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="2" class="phase-cell phase-create">åˆ›å»º</td>
              <td><code>beforeCreate</code></td>
              <td>å®ä¾‹åˆå§‹åŒ–ä¹‹å</td>
              <td>âŒ data/methods</td>
              <td>æå°‘ä½¿ç”¨</td>
            </tr>
            <tr>
              <td><code>created</code></td>
              <td>å®ä¾‹åˆ›å»ºå®Œæˆ</td>
              <td>âœ… data/methods</td>
              <td>å‘èµ· API è¯·æ±‚</td>
            </tr>
            <tr>
              <td rowspan="2" class="phase-cell phase-mount">æŒ‚è½½</td>
              <td><code>beforeMount</code></td>
              <td>æŒ‚è½½å¼€å§‹ä¹‹å‰</td>
              <td>âŒ DOM</td>
              <td>æå°‘ä½¿ç”¨</td>
            </tr>
            <tr>
              <td><code>mounted</code></td>
              <td>æŒ‚è½½å®Œæˆ</td>
              <td>âœ… DOM</td>
              <td>æ“ä½œ DOMã€åˆå§‹åŒ–åº“</td>
            </tr>
            <tr>
              <td rowspan="2" class="phase-cell phase-update">æ›´æ–°</td>
              <td><code>beforeUpdate</code></td>
              <td>æ•°æ®æ›´æ–°æ—¶</td>
              <td>æ—§ DOM</td>
              <td>è·å–æ›´æ–°å‰çŠ¶æ€</td>
            </tr>
            <tr>
              <td><code>updated</code></td>
              <td>DOM æ›´æ–°å®Œæˆ</td>
              <td>æ–° DOM</td>
              <td>æ“ä½œæ›´æ–°å DOM</td>
            </tr>
            <tr>
              <td rowspan="2" class="phase-cell phase-destroy">é”€æ¯</td>
              <td><code>beforeDestroy</code></td>
              <td>å®ä¾‹é”€æ¯ä¹‹å‰</td>
              <td>âœ… å…¨éƒ¨å¯ç”¨</td>
              <td>æ¸…ç†èµ„æº</td>
            </tr>
            <tr>
              <td><code>destroyed</code></td>
              <td>å®ä¾‹é”€æ¯å®Œæˆ</td>
              <td>âŒ å·²è§£ç»‘</td>
              <td>æå°‘ä½¿ç”¨</td>
            </tr>
          </tbody>
        </table>
      </div>
    </KnowledgeCard>

    <!-- Demo 1: å…¨éƒ¨é’©å­æ‰§è¡Œé¡ºåº -->
    <KnowledgeCard title="ğŸ¯ Demo 1ï¼šç”Ÿå‘½å‘¨æœŸé’©å­æ‰§è¡Œé¡ºåº">
      <p class="demo-desc">è§‚å¯Ÿ Vue å®ä¾‹ä»åˆ›å»ºåˆ°é”€æ¯çš„å®Œæ•´æµç¨‹ï¼ŒåŒ…æ‹¬çˆ¶å­ç»„ä»¶äº¤äº’</p>
      <DemoBox
        demoPath="lifecycle/all-hooks"
        title="ç”Ÿå‘½å‘¨æœŸå®Œæ•´æµç¨‹æ¼”ç¤º"
        :height="600"
      />
    </KnowledgeCard>

    <!-- Demo 2: created å¸¸è§ç”¨æ³• -->
    <KnowledgeCard title="ğŸ¯ Demo 2ï¼šcreated é’©å­å¸¸è§ç”¨æ³•">
      <p class="demo-desc">created æ˜¯æœ€å¸¸ç”¨çš„é’©å­ï¼Œé€‚åˆå‘èµ· API è¯·æ±‚å’Œåˆå§‹åŒ–æ•°æ®</p>
      <TipBox type="info" title="ğŸ’¡ ä¸ºä»€ä¹ˆç”¨ created å‘è¯·æ±‚ï¼Ÿ">
        <ul>
          <li>å¯ä»¥è®¿é—® data å’Œ methods</li>
          <li>æ¯” mounted æ›´æ—©æ‰§è¡Œï¼Œæ•°æ®æ›´å¿«å‡†å¤‡å¥½</li>
          <li>åœ¨æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ä¸­ä¹Ÿä¼šæ‰§è¡Œ</li>
          <li>ä¸ä¾èµ– DOMï¼Œé€‚åˆçº¯æ•°æ®æ“ä½œ</li>
        </ul>
      </TipBox>
      <DemoBox
        demoPath="lifecycle/created-usage"
        title="created é’©å­å®è·µ"
        :height="550"
      />
    </KnowledgeCard>

    <!-- Demo 3: mounted æ“ä½œ DOM -->
    <KnowledgeCard title="ğŸ¯ Demo 3ï¼šmounted é’©å­æ“ä½œ DOM">
      <p class="demo-desc">mounted æ˜¯æ“ä½œ DOM çš„æœ€ä½³æ—¶æœºï¼Œé€‚åˆåˆå§‹åŒ–ç¬¬ä¸‰æ–¹åº“</p>
      <TipBox type="info" title="ğŸ’¡ mounted çš„å…¸å‹ç”¨é€”">
        <ul>
          <li>è‡ªåŠ¨èšç„¦è¾“å…¥æ¡†</li>
          <li>è·å– DOM å…ƒç´ å°ºå¯¸</li>
          <li>åˆå§‹åŒ– EChartsã€åœ°å›¾ç­‰ç¬¬ä¸‰æ–¹åº“</li>
          <li>æ·»åŠ å…¨å±€äº‹ä»¶ç›‘å¬ï¼ˆè®°å¾—åœ¨ beforeDestroy æ¸…ç†ï¼‰</li>
        </ul>
      </TipBox>
      <DemoBox
        demoPath="lifecycle/mounted-dom"
        title="mounted æ“ä½œ DOM æ¼”ç¤º"
        :height="650"
      />
    </KnowledgeCard>

    <!-- Demo 4: æ›´æ–°å‘¨æœŸ -->
    <KnowledgeCard title="ğŸ¯ Demo 4ï¼šæ›´æ–°å‘¨æœŸæ¼”ç¤º">
      <p class="demo-desc">å½“å“åº”å¼æ•°æ®å˜åŒ–æ—¶ï¼Œä¼šè§¦å‘ beforeUpdate â†’ updated</p>
      <TipBox type="warning" title="âš ï¸ æ³¨æ„äº‹é¡¹">
        <p>é¿å…åœ¨ updated é’©å­ä¸­ä¿®æ”¹å“åº”å¼æ•°æ®ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æ— é™å¾ªç¯ï¼å¦‚éœ€åœ¨æ•°æ®å˜åŒ–åæ‰§è¡Œæ“ä½œï¼Œå»ºè®®ä½¿ç”¨ <code>watch</code> æˆ– <code>$nextTick</code>ã€‚</p>
      </TipBox>
      <DemoBox
        demoPath="lifecycle/update-cycle"
        title="æ›´æ–°å‘¨æœŸæ¼”ç¤º"
        :height="580"
      />
    </KnowledgeCard>

    <!-- Demo 5: é”€æ¯æ¸…ç† -->
    <KnowledgeCard title="ğŸ¯ Demo 5ï¼šé”€æ¯æ—¶æ¸…ç†èµ„æº">
      <p class="demo-desc">beforeDestroy æ˜¯æ¸…ç†èµ„æºçš„å…³é”®æ—¶æœºï¼Œé˜²æ­¢å†…å­˜æ³„æ¼</p>
      <TipBox type="error" title="âŒ å¿…é¡»æ¸…ç†çš„èµ„æº">
        <ul>
          <li><strong>å®šæ—¶å™¨</strong>ï¼šclearInterval / clearTimeout</li>
          <li><strong>äº‹ä»¶ç›‘å¬</strong>ï¼šwindow.removeEventListener</li>
          <li><strong>ç¬¬ä¸‰æ–¹åº“</strong>ï¼šchart.dispose() / editor.destroy()</li>
          <li><strong>WebSocket</strong>ï¼šsocket.close()</li>
          <li><strong>è®¢é˜…</strong>ï¼šå–æ¶ˆ Vuexã€EventBus è®¢é˜…</li>
        </ul>
      </TipBox>
      <DemoBox
        demoPath="lifecycle/destroy-cleanup"
        title="é”€æ¯æ¸…ç†æ¼”ç¤º"
        :height="650"
      />
    </KnowledgeCard>

    <!-- Demo 6: çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ -->
    <KnowledgeCard title="ğŸ¯ Demo 6ï¼šçˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé¡ºåº">
      <p class="demo-desc">ç†è§£çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„æ‰§è¡Œé¡ºåºå¯¹ç»„ä»¶åŒ–å¼€å‘å¾ˆé‡è¦</p>
      <div class="order-summary">
        <div class="order-item">
          <span class="order-label">æŒ‚è½½é¡ºåº</span>
          <span class="order-flow">çˆ¶ beforeCreate â†’ çˆ¶ created â†’ çˆ¶ beforeMount â†’ <em>å­å®Œæ•´å‘¨æœŸ</em> â†’ çˆ¶ mounted</span>
        </div>
        <div class="order-item">
          <span class="order-label">æ›´æ–°é¡ºåº</span>
          <span class="order-flow">çˆ¶ beforeUpdate â†’ <em>å­æ›´æ–°</em> â†’ çˆ¶ updated</span>
        </div>
        <div class="order-item">
          <span class="order-label">é”€æ¯é¡ºåº</span>
          <span class="order-flow">çˆ¶ beforeDestroy â†’ <em>å­é”€æ¯</em> â†’ çˆ¶ destroyed</span>
        </div>
      </div>
      <DemoBox
        demoPath="lifecycle/parent-child"
        title="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"
        :height="750"
      />
    </KnowledgeCard>

    <!-- æœ€ä½³å®è·µ -->
    <KnowledgeCard title="âœ… æœ€ä½³å®è·µæ€»ç»“">
      <div class="best-practices">
        <div class="practice-item">
          <div class="practice-hook">created</div>
          <div class="practice-do">
            <span class="do-label">âœ“ æ¨è</span>
            <span>å‘èµ· API è¯·æ±‚ã€åˆå§‹åŒ–æ•°æ®ã€è®¾ç½®äº‹ä»¶æ€»çº¿ç›‘å¬</span>
          </div>
          <div class="practice-dont">
            <span class="dont-label">âœ— é¿å…</span>
            <span>æ“ä½œ DOMï¼ˆæ­¤æ—¶ DOM ä¸å­˜åœ¨ï¼‰</span>
          </div>
        </div>
        <div class="practice-item">
          <div class="practice-hook">mounted</div>
          <div class="practice-do">
            <span class="do-label">âœ“ æ¨è</span>
            <span>æ“ä½œ DOMã€åˆå§‹åŒ–ç¬¬ä¸‰æ–¹åº“ã€æ·»åŠ äº‹ä»¶ç›‘å¬</span>
          </div>
          <div class="practice-dont">
            <span class="dont-label">âœ— é¿å…</span>
            <span>å‡è®¾å­ç»„ä»¶å·²å…¨éƒ¨æŒ‚è½½ï¼ˆéœ€ç”¨ $nextTickï¼‰</span>
          </div>
        </div>
        <div class="practice-item">
          <div class="practice-hook">beforeDestroy</div>
          <div class="practice-do">
            <span class="do-label">âœ“ æ¨è</span>
            <span>æ¸…é™¤å®šæ—¶å™¨ã€ç§»é™¤äº‹ä»¶ç›‘å¬ã€é”€æ¯ç¬¬ä¸‰æ–¹åº“å®ä¾‹</span>
          </div>
          <div class="practice-dont">
            <span class="dont-label">âœ— é¿å…</span>
            <span>å¿˜è®°æ¸…ç†ï¼ˆä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼‰</span>
          </div>
        </div>
      </div>
    </KnowledgeCard>
  </div>
</template>

<script>
/**
 * Vue ç”Ÿå‘½å‘¨æœŸç« èŠ‚é¡µé¢
 * 
 * æœ¬é¡µé¢è¯¦ç»†ä»‹ç» Vue 2 çš„ 8 ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ï¼š
 * - beforeCreate / createdï¼ˆåˆ›å»ºé˜¶æ®µï¼‰
 * - beforeMount / mountedï¼ˆæŒ‚è½½é˜¶æ®µï¼‰
 * - beforeUpdate / updatedï¼ˆæ›´æ–°é˜¶æ®µï¼‰
 * - beforeDestroy / destroyedï¼ˆé”€æ¯é˜¶æ®µï¼‰
 */
import KnowledgeCard from '@/components/content/KnowledgeCard.vue'
import TipBox from '@/components/content/TipBox.vue'
import DemoBox from '@/components/demo/DemoBox.vue'
import scrollTrackingMixin from '@/utils/scrollTrackingMixin'

export default {
  name: 'Lifecycle',
  
  mixins: [scrollTrackingMixin],
  
  components: {
    KnowledgeCard,
    TipBox,
    DemoBox
  },
  
  /**
   * é¡µé¢å…ƒä¿¡æ¯
   */
  metaInfo: {
    title: 'Vue ç”Ÿå‘½å‘¨æœŸ - Vue2 å­¦ä¹ '
  }
}
</script>

<style lang="scss" scoped>
.lifecycle-page {
  max-width: 900px;
  margin: 0 auto;
}

.page-header {
  text-align: center;
  margin-bottom: 32px;
  
  h1 {
    font-size: 32px;
    color: $color-text;
    margin-bottom: 8px;
  }
  
  .subtitle {
    font-size: 16px;
    color: $color-text-secondary;
  }
}

// é€šä¿—æ¯”å–»
.concept-content {
  .metaphor {
    background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 20px;
    
    h4 {
      margin-bottom: 12px;
      color: $color-text;
    }
    
    p {
      color: $color-text-secondary;
      margin-bottom: 16px;
    }
  }
  
  .life-stages {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    gap: 8px;
  }
  
  .stage {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: white;
    padding: 12px 16px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    
    .stage-icon {
      font-size: 32px;
      margin-bottom: 4px;
    }
    
    .stage-name {
      font-size: 14px;
      font-weight: 500;
      color: $color-text;
    }
    
    .stage-hook {
      font-size: 12px;
      color: $color-primary;
      font-family: $font-family-code;
    }
  }
  
  .stage-arrow {
    font-size: 20px;
    color: $color-text-secondary;
  }
  
  .definition {
    h4 {
      margin-bottom: 12px;
      color: $color-text;
    }
    
    p {
      color: $color-text-secondary;
      line-height: 1.8;
      
      strong {
        color: $color-primary;
      }
    }
  }
}

// ç”Ÿå‘½å‘¨æœŸå›¾ç¤º
.lifecycle-diagram {
  .phase-group {
    margin-bottom: 24px;
    
    &:last-child {
      margin-bottom: 0;
    }
  }
  
  .phase-title {
    font-size: 16px;
    font-weight: 600;
    color: $color-text;
    margin-bottom: 12px;
    padding-left: 8px;
    border-left: 3px solid $color-primary;
  }
  
  .hooks-row {
    display: flex;
    align-items: stretch;
    gap: 16px;
    
    @media (max-width: 600px) {
      flex-direction: column;
    }
  }
  
  .hook-arrow {
    display: flex;
    align-items: center;
    font-size: 24px;
    color: $color-text-secondary;
    
    @media (max-width: 600px) {
      justify-content: center;
      transform: rotate(90deg);
    }
  }
  
  .hook-item {
    flex: 1;
    padding: 16px;
    border-radius: 12px;
    
    &.hook-before {
      background: #fff3e0;
      border-left: 4px solid #FF9800;
    }
    
    &.hook-after {
      background: #e8f5e9;
      border-left: 4px solid #4CAF50;
    }
    
    .hook-name {
      font-family: $font-family-code;
      font-size: 15px;
      font-weight: 600;
      color: $color-text;
      margin-bottom: 6px;
    }
    
    .hook-desc {
      font-size: 13px;
      color: $color-text-secondary;
      margin-bottom: 6px;
    }
    
    .hook-tip {
      font-size: 12px;
      color: $color-primary;
    }
  }
}

// é’©å­è¡¨æ ¼
.hooks-table {
  overflow-x: auto;
  
  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 14px;
    
    th, td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid $color-border;
    }
    
    th {
      background: $color-bg;
      font-weight: 600;
      color: $color-text;
    }
    
    code {
      background: #e3f2fd;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 13px;
    }
    
    .phase-cell {
      font-weight: 500;
      text-align: center;
      
      &.phase-create { background: #e3f2fd; color: #1565c0; }
      &.phase-mount { background: #e8f5e9; color: #2e7d32; }
      &.phase-update { background: #fff3e0; color: #e65100; }
      &.phase-destroy { background: #ffebee; color: #c62828; }
    }
  }
}

// Demo æè¿°
.demo-desc {
  color: $color-text-secondary;
  margin-bottom: 16px;
  font-size: 15px;
}

// æ‰§è¡Œé¡ºåºæ€»ç»“
.order-summary {
  background: $color-bg;
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
  
  .order-item {
    display: flex;
    align-items: flex-start;
    margin-bottom: 12px;
    
    &:last-child {
      margin-bottom: 0;
    }
  }
  
  .order-label {
    flex-shrink: 0;
    width: 80px;
    font-weight: 600;
    color: $color-text;
    font-size: 14px;
  }
  
  .order-flow {
    font-size: 13px;
    color: $color-text-secondary;
    line-height: 1.6;
    
    em {
      color: $color-primary;
      font-style: normal;
      font-weight: 500;
    }
  }
}

// æœ€ä½³å®è·µ
.best-practices {
  .practice-item {
    background: $color-bg;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 12px;
    
    &:last-child {
      margin-bottom: 0;
    }
  }
  
  .practice-hook {
    font-family: $font-family-code;
    font-size: 16px;
    font-weight: 600;
    color: $color-primary;
    margin-bottom: 12px;
  }
  
  .practice-do,
  .practice-dont {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    margin-bottom: 8px;
    font-size: 14px;
    
    &:last-child {
      margin-bottom: 0;
    }
  }
  
  .do-label {
    flex-shrink: 0;
    background: #e8f5e9;
    color: #2e7d32;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 500;
  }
  
  .dont-label {
    flex-shrink: 0;
    background: #ffebee;
    color: #c62828;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 500;
  }
}
</style>
